<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>–†–∞–≥–Ω–∞—Ä –õ–æ–¥–±—Ä–æ–∫ –ø—Ä–æ—Ç–∏–≤ –¥–∏–Ω–æ–∑–∞–≤—Ä–æ–≤</title>
    <style>
        /* CSS –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π */
        body { display: flex; flex-direction: column; align-items: center; justify-content: flex-start; min-height: 100vh; margin: 0; padding: 10px 0; background-color: #181820; font-family: 'Courier New', Courier, monospace; color: #e0e0e0; overflow-y: auto; overflow-x: hidden; }
        h1 { color: #FFCC66; text-shadow: 1px 1px #000; }
        #gameContainer { display: flex; flex-direction: column; align-items: center; margin-bottom: 10px; }
        canvas { border: 3px solid #506070; box-shadow: 0 0 15px rgba(100,150,200,0.3); max-width: 100%; max-height: 75vh; object-fit: contain; display: block; image-rendering: pixelated; image-rendering: -moz-crisp-edges; image-rendering: crisp-edges; }
        #status { margin-top: 8px; font-size: 15px; text-align: center; min-height: 1.2em; width: 100%; max-width: 600px; color: #FFCC66; text-shadow: 1px 1px #111; }
        #controlsKeyboard { margin-top: 5px; font-size: 12px; text-align: center; color: #a0a0b0; }
        .action-buttons { display: flex; gap: 15px; margin-top: 12px; }
        button.game-control-btn { padding: 12px 20px; font-size: 16px; font-weight: bold; background-image: linear-gradient(to bottom, #708090, #506070); color: white; border: 1px solid #90a0b0; border-bottom: 3px solid #304050; cursor: pointer; border-radius: 5px; text-shadow: 1px 1px 1px #333; }
        button.game-control-btn:hover { background-image: linear-gradient(to bottom, #8090a0, #607080); }
        button.game-control-btn:active { border-bottom: 1px solid #304050; transform: translateY(2px); }
        #mobileControlsContainer { display: none; flex-direction: row; justify-content: space-between; align-items: center; width: 100%; max-width: 600px; margin-top: 10px; padding: 0 5px; box-sizing: border-box; pointer-events: none; }
        #touchLeftContainer, #touchRightContainer { display: flex; gap: 5px; pointer-events: auto; }
        .mobile-btn { background-color: rgba(80, 96, 112, 0.75); color: white; border: 2px solid #a0b0c0; border-radius: 50%; width: 50px; height: 50px; font-size: 20px; cursor: pointer; display: flex; align-items: center; justify-content: center; user-select: none; -webkit-user-select: none; touch-action: manipulation; box-shadow: 0 2px 5px rgba(0,0,0,0.3); }
        .mobile-btn:active { background-color: rgba(100, 116, 132, 0.9); transform: scale(0.95); }
        #achievementNotification { position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%); background-color: #FFD700; color: #222; padding: 12px 25px; border-radius: 8px; border: 2px solid #FFA500; box-shadow: 0 0 15px rgba(255,215,0,0.7); z-index: 200; display: none; font-size: 16px; font-weight: bold; text-align: center; animation: achievementPopup 0.5s ease-out; }
        @keyframes achievementPopup { from { bottom: -50px; opacity: 0; } to { bottom: 20px; opacity: 1; } }
        #achievementsSection { margin-top: 20px; padding: 20px; background-color: rgba(40, 50, 60, 0.9); border: 2px solid #607080; border-radius: 8px; width: 90%; max-width: 580px; display: none; box-shadow: 0 4px 15px rgba(0,0,0,0.3); }
        #achievementsSection h2 { margin-top: 0; margin-bottom: 15px; text-align: center; color: #FFD700; font-size: 20px; }
        .achievement { padding: 10px; margin-bottom: 10px; border: 1px solid #506070; border-radius: 5px; background-color: #304050; transition: background-color 0.3s ease; }
        .achievement.unlocked { background-color: #3A703A; border-color: #5A905A; }
        .achievement-name { font-weight: bold; color: #c0d0e0; }
        .achievement.unlocked .achievement-name { color: #A0FFA0; }
        .achievement-desc { font-size: 0.9em; color: #90a0b0; }
        .achievement.unlocked .achievement-desc { color: #c0f0c0; }
    </style>
</head>
<body>
    <h1>–†–ê–ì–ù–ê–† –õ–û–î–ë–†–û–ö –ø—Ä–æ—Ç–∏–≤ –î–ò–ù–û–ó–ê–í–†–û–í</h1>
    <div id="gameContainer"> <canvas id="gameCanvas" width="800" height="600"></canvas> <div id="mobileControlsContainer"> <div id="touchLeftContainer"> <button id="btnLeft" class="mobile-btn">‚óÄ</button> <button id="btnRight" class="mobile-btn">‚ñ∂</button> <button id="btnJump" class="mobile-btn">‚ñ≤</button> </div> <div id="touchRightContainer"> <button id="btnBlock" class="mobile-btn">üõ°</button> <button id="btnAttack" class="mobile-btn">‚öî</button> </div> </div> </div>
    <div id="status">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
    <div id="controlsKeyboard"> –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: –°—Ç—Ä–µ–ª–∫–∏ - –î–≤–∏–≥–∞—Ç—å—Å—è/–ü—Ä—ã–∂–æ–∫, –ü—Ä–æ–±–µ–ª - –ê—Ç–∞–∫–∞, Shift - –ë–ª–æ–∫ </div>
    <div class="action-buttons"> <button id="resetButton" class="game-control-btn">–ù–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ</button> <button id="toggleAchievementsButton" class="game-control-btn">–ê—á–∏–≤–∫–∏</button> </div>
    <div id="achievementNotification"></div> <div id="achievementsSection"> <h2>–î–æ—Å—Ç–∏–∂–µ–Ω–∏—è</h2> <div id="achievementsList"></div> </div>

    <script>
        const canvas = document.getElementById('gameCanvas'); const ctx = canvas.getContext('2d'); const statusDiv = document.getElementById('status'); const resetButton = document.getElementById('resetButton'); const controlsKeyboardDiv = document.getElementById('controlsKeyboard'); const mobileControlsContainer = document.getElementById('mobileControlsContainer'); const btnLeft = document.getElementById('btnLeft'); const btnRight = document.getElementById('btnRight'); const btnJump = document.getElementById('btnJump'); const btnAttack = document.getElementById('btnAttack'); const btnBlock = document.getElementById('btnBlock'); const achievementNotificationDiv = document.getElementById('achievementNotification'); const achievementsSectionDiv = document.getElementById('achievementsSection'); const achievementsListDiv = document.getElementById('achievementsList'); const toggleAchievementsButton = document.getElementById('toggleAchievementsButton'); const CANVAS_WIDTH = 600; const CANVAS_HEIGHT = 350; canvas.width = CANVAS_WIDTH; canvas.height = CANVAS_HEIGHT; const GRAVITY = 0.6; const PLAYER_SPEED = 3.5; const PLAYER_BLOCK_SPEED_MULTIPLIER = 0.3; const JUMP_POWER = 12; 
        const PLAYER_ATTACK_COOLDOWN = 100; 
        const ENEMY_ATTACK_COOLDOWN_RAPTOR = 500; 
        const ENEMY_ATTACK_COOLDOWN_TREX_BITE = 1000; 
        const ENEMY_ATTACK_COOLDOWN_TREX_STOMP = 2000; 
        let player; let raptors = []; let trexBoss = null; let platforms = []; let particles = []; let keys = {}; let gameOver = false; let gameWon = false; let gameStarted = false; let animationFrameId = null; let gameTick = 0; let cameraX = 0; let screenShakeTime = 0; let screenShakeMagnitude = 0; let showRagnarQuote = false; let achievements = { raptors_slain: { name: "–ò—Å—Ç—Ä–µ–±–∏—Ç–µ–ª—å —Ä–∞–ø—Ç–æ—Ä–æ–≤", description: "–£–Ω–∏—á—Ç–æ–∂–∏—Ç—å –≤—Å–µ—Ö –≤–µ–ª–æ—Ü–∏—Ä–∞–ø—Ç–æ—Ä–æ–≤ –Ω–∞ —É—Ä–æ–≤–Ω–µ.", unlocked: false }, trex_defeated: { name: "–ü–æ–±–µ–¥–∏—Ç–µ–ª—å –¢–∏—Ä–µ–∫—Å–∞", description: "–û–¥–æ–ª–µ—Ç—å –º–æ–≥—É—á–µ–≥–æ –¢–∏—Ä–∞–Ω–Ω–æ–∑–∞–≤—Ä–∞.", unlocked: false }, flawless_victory: { name: "–ë–µ–∑—É–ø—Ä–µ—á–Ω–∞—è –ø–æ–±–µ–¥–∞", description: "–ü—Ä–æ–π—Ç–∏ —É—Ä–æ–≤–µ–Ω—å, –Ω–µ –ø–æ–ª—É—á–∏–≤ —É—Ä–æ–Ω–∞.", unlocked: false }, persistent_failure: { name: "–£–ø–æ—Ä–Ω—ã–π –í–æ–∏–Ω", description: "–ü–æ–≥–∏–±–Ω—É—Ç—å 3 —Ä–∞–∑–∞ –≤ –ø–æ–ø—ã—Ç–∫–∞—Ö –æ–¥–æ–ª–µ—Ç—å –¥–∏–Ω–æ–∑–∞–≤—Ä–æ–≤.", unlocked: false, progress: 0, goal: 3 }}; let playerTookDamageThisLevel = false; let deathCountSession = 0; 
        
        let images = {};
        let imagesToLoad = [ // –°–ø–∏—Å–æ–∫ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏
            { name: 'viking', path: 'viking_spritesheet.png' }, // –£–ö–ê–ñ–ò –ü–†–ê–í–ò–õ–¨–ù–´–ô –ü–£–¢–¨!
            // { name: 'raptor', path: 'raptor_spritesheet.png' }, // –ö–æ–≥–¥–∞ –±—É–¥—É—Ç —Å–ø—Ä–∞–π—Ç—ã –¥–ª—è —Ä–∞–ø—Ç–æ—Ä–∞
            // { name: 'trex', path: 'trex_spritesheet.png' },   // –ö–æ–≥–¥–∞ –±—É–¥—É—Ç —Å–ø—Ä–∞–π—Ç—ã –¥–ª—è T-Rex
        ];
        let imagesLoadedCount = 0;

        function loadGameImages(() => {
    ...
    initGame(); //
            }
            imagesToLoad.forEach(imgData => {
                const img = new Image();
                img.src = imgData.path;
                img.onload = () => {
                    images[imgData.name] = img;
                    imagesLoadedCount++;
                    console.log(`Image ${imgData.name} loaded.`);
                    if (imagesLoadedCount === imagesToLoad.length) {
                        console.log("All game images loaded!");
                        callback();
                    }
                };
                img.onerror = () => {
                    console.error(`Failed to load image: ${imgData.path} as ${imgData.name}`);
                    imagesLoadedCount++; // –°—á–∏—Ç–∞–µ–º –∫–∞–∫ "–∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ–µ —Å –æ—à–∏–±–∫–æ–π", —á—Ç–æ–±—ã –Ω–µ –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –≤–µ—á–Ω–æ
                    if (imagesLoadedCount === imagesToLoad.length) {
                        console.warn("Finished loading images, some failed.");
                        callback(); // –í—Å–µ —Ä–∞–≤–Ω–æ –≤—ã–∑—ã–≤–∞–µ–º callback, –∏–≥—Ä–∞ –º–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å fallback
                    }
                };
            });
        }


        function unlockAchievement(id) { const ach = achievements[id]; if (ach && !ach.unlocked) { ach.unlocked = true; showAchievementNotification(ach.name); renderAchievementsList(); }} function showAchievementNotification(name) { achievementNotificationDiv.textContent = `üèÜ ${name}!`; achievementNotificationDiv.style.display = 'block'; achievementNotificationDiv.style.animation = 'none'; void achievementNotificationDiv.offsetWidth; achievementNotificationDiv.style.animation = 'achievementPopup 0.5s ease-out'; setTimeout(() => { achievementNotificationDiv.style.display = 'none'; }, 3500); } function renderAchievementsList() { achievementsListDiv.innerHTML = ''; for (const id in achievements) { const ach = achievements[id]; const achDiv = document.createElement('div'); achDiv.classList.add('achievement'); if (ach.unlocked) { achDiv.classList.add('unlocked'); } const nameSpan = document.createElement('span'); nameSpan.classList.add('achievement-name'); nameSpan.textContent = ach.name; const descP = document.createElement('p'); descP.classList.add('achievement-desc'); let descriptionText = ach.description; if (id === 'persistent_failure' && !ach.unlocked) { descriptionText += ` (–ü—Ä–æ–≥—Ä–µ—Å—Å: ${ach.progress || 0}/${ach.goal})`; } descP.textContent = descriptionText; achDiv.appendChild(nameSpan); achDiv.appendChild(descP); achievementsListDiv.appendChild(achDiv); }} toggleAchievementsButton.addEventListener('click', () => { achievementsSectionDiv.style.display = achievementsSectionDiv.style.display === 'none' ? 'block' : 'none'; if (achievementsSectionDiv.style.display === 'block') { achievementsSectionDiv.scrollIntoView({ behavior: 'smooth', block: 'nearest' }); }}); const Colors = { skyGradStart: '#6080B0', skyGradEnd: '#304060', sun: '#FFFFA0', mountainFar: '#384050', mountainMid: '#485060', mountainNear: '#586070', cloud: 'rgba(220, 220, 240, 0.8)', treeTrunk: '#654321', treeLeavesDark: '#204020', treeLeavesMid: '#306030', treeLeavesLight: '#408040', groundTop: '#70A050', groundMid: '#608040', groundRock: '#707070', groundShadow: '#406030', vikingSkin: '#E0B080', vikingHair: '#C08040', vikingBeard: '#A06030', vikingHelmet: '#A0A8B0', vikingHelmetShade: '#707880', vikingHorn: '#E0D8C0', vikingTunic: '#503020', vikingTunicShade: '#302010', vikingBelt: '#805030', vikingAxeHandle: '#705030', vikingAxeHead: '#C0C8D0', vikingAxeShade: '#9098A0', raptorScaleMain: '#386038', raptorScaleShadow: '#284828', raptorScaleHighlight: '#488048', raptorUnderbelly: '#A0B080', raptorClawEye: '#E0E0A0', raptorTongue: '#B06060', raptorTeeth: '#E0E0D0', trexScaleDark: '#602828', trexScaleDarker: '#401818', trexScaleMid: '#803838', trexScaleLight: '#A04848', trexPattern: '#B05050', trexUnderbelly: '#C0A080', trexClawEyeTeeth: '#E0E0D0', trexTongue: '#C05050', blood: '#A00000', ragnarQuoteColor: '#AA0000', spark: '#FFFF80', dust: 'rgba(150,120,90,0.6)', healthFull: '#40E040', healthEmpty: '#C03030', healthBorder: '#202020' };
        function drawPolygon(points, color) { if (points.length < 2) return; ctx.fillStyle = color; ctx.beginPath(); ctx.moveTo(points[0].x, points[0].y); for (let i = 1; i < points.length; i++) { ctx.lineTo(points[i].x, points[i].y); } ctx.closePath(); ctx.fill(); }
        let backgroundData = { clouds: [], farMountains: [], midForest: [] }; function initBackground() { /* ... –∫–æ–¥ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π ... */ }
        function drawBackground(cameraX) { /* ... –∫–æ–¥ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π ... */ }
        class Particle { /* ... –∫–æ–¥ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π ... */ }
        function createParticles(x, y, count, color, baseSpeed = 2, spread = Math.PI*2, life = 30, size = 3) { /* ... –∫–æ–¥ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π ... */ }
        function addScreenShake(magnitude, duration) { screenShakeMagnitude = magnitude; screenShakeTime = duration; }
        
        // –£–î–ê–õ–Ø–ï–ú –°–¢–ê–†–´–ï –§–£–ù–ö–¶–ò–ò –û–¢–†–ò–°–û–í–ö–ò (drawViking, drawRaptor, drawTRex)
        // –¢–ï–ü–ï–†–¨ –û–¢–†–ò–°–û–í–ö–ê –ë–£–î–ï–¢ –í–ù–£–¢–†–ò –ú–ï–¢–û–î–û–í draw() –ö–õ–ê–°–°–û–í –° –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–ï–ú –°–ü–†–ê–ô–¢–û–í

        class Platform { /* ... –∫–æ–¥ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π ... */ }
        
        class Entity { 
            constructor(x, y, width, height) { 
                this.x = x; this.y = y; this.width = width; this.height = height; this.vx = 0; this.vy = 0; this.isJumping = false; this.onGround = false; this.direction = 'right'; this.health = 100; this.initialHealth = 100; this.isAttacking = false; this.lastAttackTime = 0; this.attackFrame = 0; this.walkFrame = 0; this.hitTimer = 0; this.isBlocking = false; this.isDead = false; // –î–æ–±–∞–≤–∏–º isDead

                // –°–≤–æ–π—Å—Ç–≤–∞ –¥–ª—è —Å–ø—Ä–∞–π—Ç–æ–≤
                this.spriteSheet = null; 
                this.frameWidth = 0;    
                this.frameHeight = 0;   
                this.currentFrame = 0;  
                this.animationTick = 0; 
                this.animations = {};   
                this.currentAnimation = 'idle'; 
                this.animationSpeed = 10; // –ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, –±—É–¥–µ—Ç –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–æ
            } 
            applyGravity() { this.vy += GRAVITY; this.y += this.vy; } 
            checkPlatformCollision(platforms) { this.onGround = false; platforms.forEach(platform => { if (this.x + this.width > platform.x && this.x < platform.x + platform.width && this.y + this.height >= platform.y && this.y + this.height - this.vy <= platform.y + platform.height ) { if(this.vy >= 0){ this.y = platform.y - this.height; this.vy = 0; this.isJumping = false; this.onGround = true; } } }); if (this.y + this.height > CANVAS_HEIGHT) { this.y = CANVAS_HEIGHT - this.height; this.vy = 0; this.isJumping = false; this.onGround = true; } } 
            performAttack(target) { if (!this.isAttacking || !target || target.health <= 0) return false; let ar = this.attackRangeData || {x: this.width*0.5, y: this.height*0.2, w: this.width*0.7, h:this.height*0.6}; let hitboxX = this.direction === 'right' ? this.x + this.width * 0.5 : this.x - ar.w + this.width * 0.5; if(this.direction === 'right') hitboxX = this.x + this.width*0.6; else hitboxX = this.x - ar.w + this.width*0.4; if (target.x < hitboxX + ar.w && target.x + target.width > hitboxX && target.y < this.y + ar.y + ar.h && target.y + target.height > this.y + ar.y) { return true; } return false; } 
            takeDamage(amount, attackerDirection, attackerIsTRex = false) { /* ... –∫–æ–¥ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π ... */ if (this.health <= 0 && !this.isDead) { this.health = 0; this.die(); }} // –ü—Ä–æ–≤–µ—Ä–∫–∞ !this.isDead
            die() { this.isDead = true; this.setAnimation('die'); createParticles(this.x + this.width/2, this.y + this.height/2, 20, Colors.blood, 4, Math.PI*2, 50, 5); } 
            updateBase() { if (this.hitTimer > 0) this.hitTimer--; this.x += this.vx; this.vx *= 0.8; this.applyGravity(); this.checkPlatformCollision(platforms); } 
            drawHealthBar() { /* ... –∫–æ–¥ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π ... */ }
            
            updateAnimation() {
                if (this.isDead && this.currentAnimation === 'die') { // –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∞–Ω–∏–º–∞—Ü–∏—é —Å–º–µ—Ä—Ç–∏ –Ω–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–º –∫–∞–¥—Ä–µ
                    const animData = this.animations[this.currentAnimation];
                    if (this.currentFrame === animData.frames - 1) {
                        return; // –ó–∞–º–∏—Ä–∞–µ–º –Ω–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–º –∫–∞–¥—Ä–µ —Å–º–µ—Ä—Ç–∏
                    }
                }

                if (!this.spriteSheet || !this.animations[this.currentAnimation]) return;
                this.animationTick++;
                if (this.animationTick >= this.animationSpeed) {
                    this.animationTick = 0;
                    const animData = this.animations[this.currentAnimation];
                    this.currentFrame = (this.currentFrame + 1) % animData.frames;
                }
            }
            setAnimation(name) {
                if (this.isDead && name !== 'die') return; // –ï—Å–ª–∏ –º–µ—Ä—Ç–≤, —Ç–æ–ª—å–∫–æ –∞–Ω–∏–º–∞—Ü–∏—è —Å–º–µ—Ä—Ç–∏
                if (this.currentAnimation !== name && this.animations[name]) {
                    this.currentAnimation = name;
                    this.currentFrame = 0;
                    this.animationTick = 0;
                    this.animationSpeed = this.animations[name].speed || 10;
                }
            }
        }
        
        class Player extends Entity {
            constructor(x, y) {
                const frameW = 64; // –ü–†–û–í–ï–†–¨ –≠–¢–û –ó–ù–ê–ß–ï–ù–ò–ï!
                const frameH = 64; // –ü–†–û–í–ï–†–¨ –≠–¢–û –ó–ù–ê–ß–ï–ù–ò–ï!
                super(x, y, frameW, frameH); 
                
                this.initialHealth = 100;
                this.health = this.initialHealth;
                this.attackRangeData = {x: this.width * 0.6, y: this.height * 0.2, w: this.width * 0.7, h: this.height * 0.6}; 

                if (images.viking) {
                    this.spriteSheet = images.viking;
                    this.frameWidth = frameW; 
                    this.frameHeight = frameH; 
                    // –°–ö–û–†–†–ï–ö–¢–ò–†–£–ô –≠–¢–ò –î–ê–ù–ù–´–ï –ü–û–î –°–í–û–ô –°–ü–†–ê–ô–¢-–õ–ò–°–¢!
                    this.animations = {
                        'idle':   { row: 0, frames: 10, speed: 10 }, 
                        'walk':   { row: 1, frames: 8,  speed: 7 },
                        'attack': { row: 2, frames: 7,  speed: 4 }, // –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∞–Ω–∏–º–∞—Ü–∏–∏ –∞—Ç–∞–∫–∏ –¥–æ–ª–∂–Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å PLAYER_ATTACK_COOLDOWN
                        'jump':   { row: 5, frames: 1,  speed: 100, isLooping: false }, // –ü—Ä–µ–¥–ø–æ–ª–æ–∂–∏–º 1 –∫–∞–¥—Ä –¥–ª—è –ø—Ä—ã–∂–∫–∞ –≤ –≤–æ–∑–¥—É—Ö–µ
                        'block':  { row: 4, frames: 1,  speed: 100, isLooping: false }, // 1 –∫–∞–¥—Ä –¥–ª—è –±–ª–æ–∫–∞
                        'hit':    { row: 3, frames: 4,  speed: 6 },   
                        'die':    { row: 7, frames: 7,  speed: 8 , isLooping: false}  
                    };
                    this.setAnimation('idle');
                } else {
                    console.error("Viking spritesheet not loaded for Player!");
                }
            }

            update() {
                if (this.isDead) {
                    this.updateAnimation();
                    return;
                }

                const currentSpeed = this.isBlocking ? PLAYER_SPEED * PLAYER_BLOCK_SPEED_MULTIPLIER : PLAYER_SPEED;
                if (!this.isAttacking) { // –ù–µ –¥–≤–∏–≥–∞—Ç—å—Å—è –≤–æ –≤—Ä–µ–º—è –∞—Ç–∞–∫–∏
                    if (keys['ArrowLeft'] || (mobileControlsActive && mobileKeys.left)) {
                        this.vx = -currentSpeed;
                        this.direction = 'left';
                    } else if (keys['ArrowRight'] || (mobileControlsActive && mobileKeys.right)) {
                        this.vx = currentSpeed;
                        this.direction = 'right';
                    } else {
                        this.vx = 0;
                    }
                }


                if ((keys['ArrowUp'] || (mobileControlsActive && mobileKeys.jump)) && this.onGround && !this.isJumping && !this.isAttacking) { 
                    this.vy = -JUMP_POWER;
                    this.isJumping = true;
                    this.onGround = false;
                }
                
                this.isBlocking = !!(keys['ShiftLeft'] || keys['ShiftRight'] || (mobileControlsActive && mobileKeys.block));
                const canAttack = gameTick - this.lastAttackTime > PLAYER_ATTACK_COOLDOWN;

                if ((keys['Space'] || (mobileControlsActive && mobileKeys.attack)) && !this.isAttacking && !this.isBlocking && this.onGround && canAttack) { 
                    this.isAttacking = true;
                    this.attackFrame = 0; // –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –∞—Ç–∞–∫–∏ –≤ Entity, –Ω–æ –∑–¥–µ—Å—å –¥–ª—è –ª–æ–≥–∏–∫–∏ —É—Ä–æ–Ω–∞
                    this.lastAttackTime = gameTick; 
                    this.vx = 0; 
                    this.setAnimation('attack');
                }

                // –õ–æ–≥–∏–∫–∞ —Å–º–µ–Ω—ã –∞–Ω–∏–º–∞—Ü–∏–π
                if (this.isAttacking) {
                    // –ê–Ω–∏–º–∞—Ü–∏—è –∞—Ç–∞–∫–∏ —É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞
                    this.attackFrame++; // –î–ª—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π –ª–æ–≥–∏–∫–∏ Player, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∫–æ–≥–¥–∞ –Ω–∞–Ω–æ—Å–∏—Ç—å —É—Ä–æ–Ω)
                    if (this.attackFrame === Math.floor((this.animations['attack'].frames * this.animations['attack'].speed) / 2.5) ) { // –ü—Ä–∏–º–µ—Ä–Ω—ã–π –∫–∞–¥—Ä –¥–ª—è —É—Ä–æ–Ω–∞
                        raptors.forEach(raptor => {
                            if (!raptor.isDead && this.performAttack(raptor)) raptor.takeDamage(15 + Math.floor(Math.random()*11), this.direction); 
                        });
                        if (trexBoss && !trexBoss.isDead && this.performAttack(trexBoss)) {
                            trexBoss.takeDamage(10 + Math.floor(Math.random()*6), this.direction); 
                        }
                    }
                    if (this.attackFrame >= this.animations['attack'].frames * this.animations['attack'].speed) {
                        this.isAttacking = false;
                        this.attackFrame = 0;
                        this.setAnimation('idle'); // –í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –ø–æ–∫–æ–π –ø–æ—Å–ª–µ –∞—Ç–∞–∫–∏
                    }
                } else if (this.hitTimer > 0) {
                    this.setAnimation('hit');
                } else if (this.isBlocking) {
                    this.setAnimation('block');
                } else if (!this.onGround) { // –í –ø—Ä—ã–∂–∫–µ –∏–ª–∏ –ø–∞–¥–µ–Ω–∏–∏
                    this.setAnimation('jump'); // –ü—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ–º, —á—Ç–æ jump - —ç—Ç–æ –∞–Ω–∏–º–∞—Ü–∏—è –≤ –≤–æ–∑–¥—É—Ö–µ
                } else if (this.vx !== 0) {
                    this.setAnimation('walk');
                } else {
                    this.setAnimation('idle');
                }
                
                this.updateAnimation();
                super.updateBase();
                // ... (–æ—Å—Ç–∞–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞) ...
            }

            draw() {
                if (!this.spriteSheet || !this.animations[this.currentAnimation]) { // Fallback
                    if (this.health > 0) {
                        ctx.fillStyle = Colors.vikingTunic;
                        ctx.fillRect(this.x, this.y, this.width, this.height);
                    }
                    this.drawHealthBar();
                    return;
                }
                
                const animData = this.animations[this.currentAnimation];
                const sourceX = this.currentFrame * this.frameWidth;
                const sourceY = animData.row * this.frameHeight;

                ctx.save();
                if (this.direction === 'left') {
                    ctx.scale(-1, 1);
                    ctx.drawImage(
                        this.spriteSheet,
                        sourceX, sourceY, this.frameWidth, this.frameHeight,
                        -this.x - this.width, this.y, this.width, this.height
                    );
                } else {
                    ctx.drawImage(
                        this.spriteSheet,
                        sourceX, sourceY, this.frameWidth, this.frameHeight,
                        this.x, this.y, this.width, this.height
                    );
                }
                ctx.restore();

                if (this.hitTimer > 0 && this.health > 0) { 
                    ctx.globalAlpha = 0.4 + Math.sin(gameTick*0.5)*0.2; // –ú–∏–≥–∞–Ω–∏–µ
                    ctx.fillStyle = 'red';
                    ctx.fillRect(this.x, this.y, this.width, this.height);
                    ctx.globalAlpha = 1.0;
                }
                if(this.health > 0) this.drawHealthBar(); // –†–∏—Å–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –∂–∏–≤
            }
            
            die() { // –ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ–º, —á—Ç–æ–±—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –≤—ã–∑—ã–≤–∞—Ç—å –∞–Ω–∏–º–∞—Ü–∏—é —Å–º–µ—Ä—Ç–∏
                if (!this.isDead) {
                    super.die(); // –í—ã–∑–æ–≤–µ—Ç this.isDead = true –∏ this.setAnimation('die') –∏–∑ Entity
                    gameOver = true;
                    statusDiv.textContent = "–ü–û–†–ê–ñ–ï–ù–ò–ï! –í–ê–õ–¨–•–ê–õ–õ–ê –ñ–î–ï–¢!";
                    resetButton.textContent = '–ü–æ–ø—ã—Ç–∞—Ç—å—Å—è —Å–Ω–æ–≤–∞';
                    resetButton.style.display = 'block';
                    showRagnarQuote = true; 
                    deathCountSession++;
                    achievements.persistent_failure.progress = Math.min(achievements.persistent_failure.progress + 1, achievements.persistent_failure.goal);
                    if (achievements.persistent_failure.progress >= achievements.persistent_failure.goal) {
                        unlockAchievement('persistent_failure');
                    }
                    renderAchievementsList();
                }
            }
        }

        // –ö–ª–∞—Å—Å—ã Raptor –∏ TRex –ø–æ–∫–∞ –æ—Å—Ç–∞—é—Ç—Å—è —Å –ø—Ä–æ—Ü–µ–¥—É—Ä–Ω–æ–π –æ—Ç—Ä–∏—Å–æ–≤–∫–æ–π
        // –ò—Ö –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç –æ–±–Ω–æ–≤–∏—Ç—å –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ Player, –∫–æ–≥–¥–∞ —É —Ç–µ–±—è –±—É–¥—É—Ç –∏—Ö —Å–ø—Ä–∞–π—Ç-–ª–∏—Å—Ç—ã
        class Raptor extends Entity { /* ... –∫–∞–∫ –±—ã–ª–æ, –Ω–æ —É–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–æ –æ—Ç Entity —Å–æ —Å–ø—Ä–∞–π—Ç–∞–º–∏ ... */ 
            constructor(x,y){
                super(x,y, 65, 50); // –°—Ç–∞—Ä—ã–µ —Ä–∞–∑–º–µ—Ä—ã –¥–ª—è –ø—Ä–æ—Ü–µ–¥—É—Ä–Ω–æ–π –≥—Ä–∞—Ñ–∏–∫–∏
                this.initialHealth = 40; this.health = this.initialHealth; this.speed = 1.5 + Math.random() * 0.5;
                this.attackRangeData = {x: this.width*0.4, y: this.height*0.1, w: this.width*0.7, h:this.height*0.8};
                 // –ï—Å–ª–∏ –Ω–µ—Ç —Å–ø—Ä–∞–π—Ç–∞, –º–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å —Å—Ç–∞—Ä—É—é –æ—Ç—Ä–∏—Å–æ–≤–∫—É
            }
             update() {
                if (this.isDead) { this.updateAnimation(); return; } // –ï—Å–ª–∏ –±—É–¥—É—Ç —Å–ø—Ä–∞–π—Ç—ã —Å–º–µ—Ä—Ç–∏
                // ... –æ—Å—Ç–∞–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞ Raptor.update –∫–∞–∫ –±—ã–ª–∞ ...
                // –í –∫–æ–Ω—Ü–µ Raptor.update() –≤—ã–∑—ã–≤–∞—Ç—å this.updateAnimation();
                if (this.isAttacking) { this.walkFrame = 0; this.attackFrame++; if (this.attackFrame === 10) { if (this.performAttack(player)) { player.takeDamage(10 + Math.floor(Math.random()*6), this.direction); } } if (this.attackFrame > 20) { this.isAttacking = false; this.attackFrame = 0; }}
                else if (this.vx !== 0 && this.onGround) { this.walkFrame = (this.walkFrame + 0.15 + Math.abs(this.vx)*0.03) % 6;} else {this.walkFrame = 0;}

                const distanceToPlayerX = player ? Math.abs(player.x - (this.x + this.width / 2)) : Infinity;
                const distanceToPlayerY = player ? Math.abs(player.y - (this.y + this.height / 2)) : Infinity;
                const inAggroRange = distanceToPlayerX < 300 && distanceToPlayerY < 100; 
                const inAttackRange = distanceToPlayerX < this.width * 0.9 && distanceToPlayerY < this.height * 1.2; 

                if (player && player.health > 0 && inAggroRange && !this.isAttacking) { 
                    if (player.x < this.x) { this.vx = -this.speed; this.direction = 'left'; } 
                    else if (player.x > this.x + this.width) { this.vx = this.speed; this.direction = 'right'; } 
                    else { this.vx *= 0.5; }
                    if (gameTick - this.lastAttackTime > ENEMY_ATTACK_COOLDOWN_RAPTOR && inAttackRange && this.onGround) { this.isAttacking = true; this.attackFrame = 0; this.lastAttackTime = gameTick; this.vx = 0; }
                } else if (!this.isAttacking) { this.vx *= 0.9; }
                super.updateBase();
                this.updateAnimation(); // –î–ª—è –±—É–¥—É—â–∏—Ö —Å–ø—Ä–∞–π—Ç–æ–≤
            }
            draw() { // –°—Ç–∞—Ä–∞—è –ø—Ä–æ—Ü–µ–¥—É—Ä–Ω–∞—è –æ—Ç—Ä–∏—Å–æ–≤–∫–∞
                if (this.isDead) return; // –ï—Å–ª–∏ –±—É–¥—É—Ç —Å–ø—Ä–∞–π—Ç—ã —Å–º–µ—Ä—Ç–∏
                ctx.fillStyle = this.hitTimer > 0 ? 'rgba(255,150,50,0.8)' : Colors.raptorScaleMain;
                let drawX = this.x; if (this.isAttacking) { const attackOffset = this.direction === 'right' ? 8 : -8; drawX += Math.sin(this.attackFrame / 20 * Math.PI) * attackOffset; }
                ctx.fillRect(drawX, this.y, this.width, this.height);
                if (this.isAttacking && this.attackFrame > 5 && this.attackFrame < 15) { ctx.fillStyle = Colors.raptorTongue; const mouthX = this.direction === 'right' ? drawX + this.width : drawX - 10; const mouthY = this.y + this.height * 0.4; ctx.fillRect(mouthX, mouthY, 10, 5); }
                this.drawHealthBar();
            }
        }
        class TRex extends Entity { /* ... –∫–∞–∫ –±—ã–ª–æ, –Ω–æ —É–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–æ –æ—Ç Entity —Å–æ —Å–ø—Ä–∞–π—Ç–∞–º–∏ ... */
             constructor(x,y){
                super(x,y, 130, 100); // –°—Ç–∞—Ä—ã–µ —Ä–∞–∑–º–µ—Ä—ã
                this.initialHealth = 250; this.health = this.initialHealth; this.speed = 0.8 + Math.random() * 0.3;
                this.attackRangeData = {x: this.width*0.3, y: this.height*0.1, w: this.width*0.8, h:this.height*0.9};
                this.stompNextAvailableTick = gameTick; this.currentAttackType = null; 
            }
            update() { // –ö–æ–ø–∏—Ä—É–µ–º —Å—Ç–∞—Ä—É—é –ª–æ–≥–∏–∫—É, –¥–æ–±–∞–≤–∏–≤ this.updateAnimation()
                if (this.isDead) { this.updateAnimation(); return; }
                const distanceToPlayerX = player ? Math.abs(player.x - (this.x + this.width / 2)) : Infinity;
                if (player && player.health > 0) {
                    if (!this.isAttacking || (this.isAttacking && !this.isJumping)) { if (player.x < this.x + this.width * 0.2) { this.vx = -this.speed; this.direction = 'left'; } else if (player.x > this.x + this.width * 0.8) { this.vx = this.speed; this.direction = 'right'; } else { this.vx *= 0.7; } }
                    if(this.onGround && !this.isAttacking) this.walkFrame = (this.walkFrame + 0.05 + Math.abs(this.vx)*0.02) % 8; else if (!this.onGround && this.isJumping) this.walkFrame = 0; 
                    if (gameTick >= this.stompNextAvailableTick && distanceToPlayerX < this.width * 1.2 && this.onGround && !this.isAttacking) { this.vy = -JUMP_POWER * 0.7; this.isJumping = true; this.onGround = false; this.stompNextAvailableTick = gameTick + Math.floor(ENEMY_ATTACK_COOLDOWN_TREX_STOMP / (1000/60)) + Math.floor(Math.random()* (1000/(1000/60))); this.isAttacking = true; this.attackFrame = 0; this.currentAttackType = 'stomp'; this.vx = 0; }
                    if (this.isAttacking) { this.walkFrame = 0; this.attackFrame++; if (this.currentAttackType === 'stomp') { if (this.onGround && this.vy === 0 && this.attackFrame > 5) { addScreenShake(8, 20); createParticles(this.x + this.width/2, this.y + this.height, 20, Colors.dust, 3, Math.PI, 40, 5); if(distanceToPlayerX < this.width * 0.7 && player.y + player.height > this.y + this.height - 30) { player.takeDamage(25 + Math.floor(Math.random()*11), this.direction, true); } this.isAttacking = false; this.isJumping = false; this.currentAttackType = null; } else if (this.attackFrame > 45 && this.isJumping) { this.isAttacking = false; this.isJumping = false; this.currentAttackType = null; }} else if (this.currentAttackType === 'bite') { if (this.attackFrame === 20) { if (this.performAttack(player)) { player.takeDamage(20 + Math.floor(Math.random()*11), this.direction, true); }} if (this.attackFrame > 40) { this.isAttacking = false; this.currentAttackType = null; }}} 
                    else { if (gameTick - this.lastAttackTime > ENEMY_ATTACK_COOLDOWN_TREX_BITE && distanceToPlayerX < this.width * 0.7 && this.onGround) { this.isAttacking = true; this.attackFrame = 0; this.lastAttackTime = gameTick; this.currentAttackType = 'bite'; this.vx = 0; }}
                } else { if(this.onGround && !this.isAttacking) this.walkFrame = 0; this.vx *= 0.9;}
                super.updateBase();
                this.updateAnimation(); // –î–ª—è –±—É–¥—É—â–∏—Ö —Å–ø—Ä–∞–π—Ç–æ–≤
            }
            draw() { // –°—Ç–∞—Ä–∞—è –ø—Ä–æ—Ü–µ–¥—É—Ä–Ω–∞—è –æ—Ç—Ä–∏—Å–æ–≤–∫–∞
                if (this.isDead) return;
                ctx.fillStyle = this.hitTimer > 0 ? 'rgba(180,50,50,0.8)' : Colors.trexScaleMid;
                let drawX = this.x; let drawY = this.y; if (this.isAttacking) { drawY -= Math.sin(this.attackFrame / (this.onGround? 40:30) * Math.PI) * 10; }
                ctx.fillRect(drawX, drawY, this.width, this.height);
                if (this.isAttacking && this.currentAttackType === 'bite' && this.attackFrame > 10 && this.attackFrame < 30) { ctx.fillStyle = Colors.trexTongue; const mouthX = this.direction === 'right' ? drawX + this.width * 0.7 : drawX - 15 + this.width * 0.3; const mouthY = drawY + this.height * 0.2; ctx.fillRect(mouthX, mouthY, 25, 15); }
                this.drawHealthBar();
            }
        }
        
        function drawRagnarQuote() { /* ... –∫–æ–¥ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π ... */ }
        
        function initGame() {
            // ... (—Å–±—Ä–æ—Å —Å–æ—Å—Ç–æ—è–Ω–∏–π)
            player = new Player(80, CANVAS_HEIGHT - 25 - 64); // –°–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–æ –ø–æ–¥ frameHeight = 64
            // –î–ª—è —Ä–∞–ø—Ç–æ—Ä–æ–≤ –∏ T-Rex –æ—Å—Ç–∞–≤–∏–º —Å—Ç–∞—Ä—ã–µ —Ä–∞–∑–º–µ—Ä—ã –∏ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ, –ø–æ–∫–∞ —É –Ω–∏—Ö –Ω–µ—Ç —Å–ø—Ä–∞–π—Ç–æ–≤
            raptors = [ 
                new Raptor(350, CANVAS_HEIGHT - 25 - 50), 
                new Raptor(550, CANVAS_HEIGHT - 25 - 50), 
                new Raptor(200, CANVAS_HEIGHT - 120 - 50) 
            ]; 
            raptors.forEach(r => {r.isDead = false; r.health = r.initialHealth; r.walkFrame = 0; r.attackFrame = 0; r.isAttacking = false; r.lastAttackTime = gameTick - ENEMY_ATTACK_COOLDOWN_RAPTOR;}); 
            if (player) player.lastAttackTime = gameTick - PLAYER_ATTACK_COOLDOWN; 
            trexBoss = null; 
            initBackground();
            statusDiv.textContent = "–£–ù–ò–ß–¢–û–ñ–¨–¢–ï –†–ê–ü–¢–û–†–û–í!";
            gameStarted = true; 
            if (animationFrameId) cancelAnimationFrame(animationFrameId);
            gameLoop(); 
        }

        function update() { /* ... –∫–æ–¥ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π, –Ω–æ player.update() —Ç–µ–ø–µ—Ä—å —É–ø—Ä–∞–≤–ª—è–µ—Ç —Å–ø—Ä–∞–π—Ç–æ–≤–æ–π –∞–Ω–∏–º–∞—Ü–∏–µ–π ... */ }
        function draw() { /* ... –∫–æ–¥ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π, –Ω–æ player.draw() —Ç–µ–ø–µ—Ä—å —Ä–∏—Å—É–µ—Ç —Å–ø—Ä–∞–π—Ç ... */ }
        function gameLoop() { /* ... –∫–æ–¥ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π ... */ }
        window.addEventListener('keydown', (e) => { /* ... */ });
        window.addEventListener('keyup', (e) => { /* ... */ });
        // ... –º–æ–±–∏–ª—å–Ω—ã–µ –∫–æ–Ω—Ç—Ä–æ–ª—ã –∏ –æ—Å—Ç–∞–ª—å–Ω–æ–π –∫–æ–¥ ...
        
        // --- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏–≥—Ä—ã –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π ---
statusDiv.textContent = '–ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π...';
resetButton.disabled = true;

loadGameImages(() => {
    statusDiv.textContent = '–ì–æ—Ç–æ–≤ —Å—Ä–∞–∑–∏—Ç—å—Å—è —Å –¥—Ä–µ–≤–Ω–∏–º–∏ —è—â–µ—Ä–∞–º–∏?';
    resetButton.disabled = false;
    renderAchievementsList();
    gameStarted = false;
    resetButton.textContent = '–ù–∞—á–∞—Ç—å –∏–≥—Ä—É';
    resetButton.style.display = 'block';
    toggleAchievementsButton.style.display = 'inline-block';

    // –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –ø–µ—Ä–µ—Ä–∏—Å–æ–≤–∫–∞
    try {
        draw();
    } catch (e) {
        console.warn('–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–µ—Ä–≤–∏—á–Ω–æ–π –æ—Ç—Ä–∏—Å–æ–≤–∫–µ:', e);
        statusDiv.textContent = '‚ö† –û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç—Ä–∏—Å–æ–≤–∫–µ. –ü—Ä–æ–≤–µ—Ä—å draw()';
    }

    console.log('[DEBUG] Images:', images);
    console.log('[DEBUG] Canvas:', canvas);
    console.log('[DEBUG] Context:', ctx);
    console.log('[DEBUG] Player:', player);
    console.log('[DEBUG] AF_ID:', animationFrameId);

    // üëâ –†–ê–°–ö–û–ú–ú–ï–ù–¢–ò–†–£–ô, –µ—Å–ª–∏ —Ö–æ—á–µ—à—å –∞–≤—Ç–æ—Å—Ç–∞—Ä—Ç
    // initGame();
});

resetButton.addEventListener('click', () => {
    if (!gameStarted && imagesLoadedCount < imagesToLoad.length && imagesToLoad.length > 0) {
        alert("–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –µ—â—ë –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è. –ü–æ–¥–æ–∂–¥–∏ –Ω–µ–º–Ω–æ–≥–æ.");
        return;
    }
    initGame();
});

    </script>
</body>
</html>
